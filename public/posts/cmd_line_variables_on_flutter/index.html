<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Command line variables on Flutter using --dart-define - Vinesh Raju</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.png><link rel=canonical href=/posts/cmd_line_variables_on_flutter/><link rel=stylesheet href=/css/style.min.7a80ebadcaf82f2d6c10b3b8a86f6bac94d7692144ef2f308aaa9c61d734b154.css><link rel=stylesheet href=/assets/css/extended.min.9729f28a5087b689b946e103d96abd63bfd37b1417effa251dbf798312e3fba5.css><meta property="og:title" content="Command line variables on Flutter using --dart-define"><meta property="og:type" content="website"><meta property="og:url" content="/posts/cmd_line_variables_on_flutter/"><meta property="og:image" content="/command_line.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@theVinesh"><meta name=twitter:creator content="@theVinesh"><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@400;700&amp;display=swap" rel=stylesheet></head><body class='page frame page-blog-single'><div id=menu-main-mobile class=menu-main-mobile><ul class=menu><li class=menu-item-home><a href=/>home</a></li><li class=menu-item-blog><a href=/posts/>blog</a></li><li class=menu-item-resume><a href=/resume/>resume</a></li></ul></div><div id=wrapper class=wrapper><div class=header><div class=menu-main><ul><li class=menu-item-home><a href=/><span>home</span></a></li><li class=menu-item-blog><a href=/posts/><span>blog</span></a></li><li class=menu-item-resume><a href=/resume/><span>resume</span></a></li></ul></div><div id=toggle-menu-main-mobile class=hamburger-trigger><button class=hamburger>Menu</button></div></div><div class=blog><div class=author><img width=30 class=author-image src=/images/avatar.png alt="Vinesh Raju">
<span class=author-name>Vinesh Raju</span>
<span class=author-divider></span>
<span class=author-date>March 25, 2021</span></div><div class=intro><h1>Command line variables on Flutter using --dart-define<span class=dot>.</span></h1><img alt=" Article hero image" src=/posts/cmd_line_variables_on_flutter/command_line.png></div><div class=content><p>This post explains how to send command line variables and use them with flutter.</p><h2 id=why-send-variables-via-command-line>Why send variables via command line?</h2><p>Being able to set a variable through command line comes in very handy whenever you want to change the variable depending on the environment/client it&rsquo;s being built for. Without having to change code manually every time.</p><p>A few common use cases would be</p><ul><li>to configure your app&rsquo;s base URL during build time.</li><li>to use separate API keys or client ids for development and production.</li></ul><h2 id=--dart-define-to-the-rescue>&ndash;dart-define to the rescue</h2><p><code>--dart-define</code> helps send key-value pairs to flutter at build time.</p><p>All you have to do is run <code>flutter run</code> with <code>--dart-define=&lt;KEY>=&lt;VALUE></code> argument.<br>If you want to send multiple key-value pairs, just send <code>--dart-define</code> multiple times.</p><p><strong>Example:</strong>
<code>flutter run --dart-define=BASE_URL=https://dev.example.com --dart-define=ENABLE_SECRET_FEATURE=true</code></p><blockquote><p>note: <code>--dart-define</code> works starting from Flutter 1.17</p></blockquote><h3 id=accessing-the-key-value-pairs-in-code>Accessing the key-value pairs in code</h3><p>You can access the data sent via <code>--dart-define</code> by using<br><code>const &lt;DataType>.fromEnvironment(&lt;Key>,{defaultValue:&lt;Default value>})</code>.</p><p><strong>Example:</strong></p><ul><li>to get <code>String</code> value<br><code>const String.fromEnvironment("BASE_URL")</code></li><li>to get <code>bool</code> value<br><code>const bool.fromEnvironment("ENABLE_SECRET_FEATURE", defaultValue: false)</code></li></ul><blockquote><p>note: <code>const</code> is important. You wouldn&rsquo;t get the value otherwise</p></blockquote><h3 id=usage>Usage</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-dart data-lang=dart><span class=line><span class=cl><span class=kd>class</span> <span class=nc>BuildConfig</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kd>const</span> <span class=kt>String</span> <span class=n>BASE_URL</span> <span class=o>=</span> <span class=kd>const</span> <span class=kt>String</span><span class=p>.</span><span class=n>fromEnvironment</span><span class=p>(</span><span class=s2>&#34;BASE_URL&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kd>const</span> <span class=kt>bool</span> <span class=n>ENABLE_SECRET_FEATURE</span> <span class=o>=</span> 
</span></span><span class=line><span class=cl>        <span class=kd>const</span> <span class=kt>bool</span><span class=p>.</span><span class=n>fromEnvironment</span><span class=p>(</span><span class=s2>&#34;ENABLE_SECRET_FEATURE&#34;</span><span class=p>,</span><span class=nl>defaultValue:</span> <span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>static</span> <span class=kd>const</span> <span class=kt>int</span> <span class=n>ORG_NO</span> <span class=o>=</span> <span class=kd>const</span> <span class=kt>int</span><span class=p>.</span><span class=n>fromEnvironment</span><span class=p>(</span><span class=s2>&#34;ORG_NO&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-dart data-lang=dart><span class=line><span class=cl><span class=kd>class</span> <span class=nc>MyWidget</span> <span class=kd>extends</span> <span class=n>StatelessWidget</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=err>@</span><span class=n>override</span>
</span></span><span class=line><span class=cl>  <span class=n>Widget</span> <span class=n>build</span><span class=p>(</span><span class=n>BuildContext</span> <span class=n>context</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>Column</span><span class=p>(</span>
</span></span><span class=line><span class=cl>      <span class=nl>children:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=n>Text</span><span class=p>(</span><span class=s2>&#34;Base Url: </span><span class=si>${</span><span class=n>BuildConfig</span><span class=p>.</span><span class=n>BASE_URL</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>Text</span><span class=p>(</span><span class=s2>&#34;Enable Feature: </span><span class=si>${</span><span class=n>BuildConfig</span><span class=p>.</span><span class=n>ENABLE_SECRET_FEATURE</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=n>Text</span><span class=p>(</span><span class=s2>&#34;Org No: </span><span class=si>${</span><span class=n>BuildConfig</span><span class=p>.</span><span class=n>ORG_NO</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><div class=footer><div class=footer-social><span class="social-icon social-icon-twitter"><a href=https://twitter.com/theVinesh title=twitter target=_blank rel=noopener><img src=/images/social/twitter.svg width=24 height=24 alt=twitter></a></span>
<span class="social-icon social-icon-github"><a href=https://github.com/theVinesh title=github target=_blank rel=noopener><img src=/images/social/github.svg width=24 height=24 alt=github></a></span>
<span class="social-icon social-icon-linkedin"><a href=https://www.linkedin.com/in/theVinesh title=linkedin target=_blank rel=noopener><img src=/images/social/linkedin.svg width=24 height=24 alt=linkedin></a></span></div><div class=footer-attribution><p>built with <a href=https://gohugo.io/>Hugo</a> | icons from <a href=https://icons8.com/>icon8</a></p><p>checkout the source on <a href=https://github.com/theVinesh/personal-site>github</a></p></div></div></div><script type=text/javascript src=/js/bundle.min.5993fcb11c07dea925a3fbd58c03c7f1857197c35fccce3aa963a12c0b3c9960.js></script><div class="word-wall noprint" text="this post explains how to send command line variables and use them with flutter.
why send variables via command line? being able to set a variable through command line comes in very handy whenever you want to change the variable depending on the environment/client it&rsquo;s being built for. without having to change code manually every time.
a few common use cases would be
to configure your app&rsquo;s base url during build time."></div></body></html>